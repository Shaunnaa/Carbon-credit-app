<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="./login.css">
    <script src="js/bootstrap.min.js"></script>
</head>

<body>
    <section>
        <div class="container mt-5 pt-5">
            <div class="row">
                <div class="col-12  col-sm-8 col-md-6 m-auto">
                    <div class="card py-5 px-3">
                <h1 class="text-center" id="Create_Name">เข้าสู่ระบบ</h1>

            <div class="input-group d-flex flex-column mt-2 gap-4 mb-4">
                <div class="form-floating">
                    <input type="email" class="email form-control" id="InputemailGrid" placeholder="name@example.com">
                    <label for="floatingInputGrid">อีเมล</label>
                  </div>
                  <div class="form-floating">
                    <input type="password" class="tel form-control" id="InputpassGrid" placeholder="name@example.com">
                    <label for="floatingInputGrid">รหัสผ่าน</label>
                  </div>
                
                  <button class="next " onclick="location.href='Sign Up-company-2.html'" id="login">เข้าสู่ระบบ</button>
            </div>
            
            <button class="next " onclick="location.href='Home.html'">เข้าสู่ระบบ</button>

            <button class="f text-center">จำรหัสผ่านไม่ได้</button>
            
            </div>
                </div>
            
        </div>     
    </div>
    <div class="container-fluid">
                <img class="img" src="./photo/tree.png" >
            </div >
    </section>
    <script>
        const login = document.getElementById("login")
        const usernameInput = document.getElementById('InputemailGrid');
        const passwordInput = document.getElementById('InputpassGrid');
        const submitLogin = async () => {
            email = usernameInput.value;
            password = passwordInput.value;
            const requestOptions = {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: JSON.stringify(
                `grant_type=&username=${email}&password=${password}&scope=&client_id=&client_secret=`
            ),
            };

            const response = await fetch("/login_register/api/token", requestOptions);
            const data = await response.json();

            if (!response.ok) {
            setErrorMessage(data.detail);
            } else {
            setToken(data.access_token);
            }
        };
        
        login.addEventListener('click', () => {
           submitLogin();
   
        });
    </script>
</body>
</html>
<!--<section>
    <div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center">
    <div class="card py-5 px-3">
        <h1 class="text-center" id="Create_Name">เข้าสู่ระบบ</h1>

        <div class="input-group d-flex flex-column mt-2 gap-4 mb-4">
            <input type="email" class="email align-items-center" placeholder="   อีเมล">
            <input type="tel" class="tel align-items-center" placeholder="   รหัสผ่าน" >
        </div>
        
        <button class="next col-4 " onclick="location.href='Sign Up-company-2.html'">เข้าสู่ระบบ</button>
        <button class="f text-center">จำรหัสผ่านไม่ได้</button>
        <div class="container-fluid">
            <img class="img" src="./photo/tree.png" >
        </div >
    </div>
</div>
</section>!-->